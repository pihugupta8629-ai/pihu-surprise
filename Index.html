<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>For Pihu ‚Äî Surprise from Zakariya</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{font-family:'Segoe UI', Roboto, system-ui, -apple-system, 'Noto Sans', sans-serif;background:linear-gradient(130deg,#0f172a 0%,#071029 45%,#0b1020 100%);color:#fff;overflow:hidden;display:flex;align-items:center;justify-content:center;padding:20px}
    .card{width:980px;max-width:98vw;height:620px;max-height:96vh;border-radius:20px;padding:20px;position:relative;overflow:hidden;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));box-shadow:0 12px 40px rgba(2,6,23,0.7);backdrop-filter: blur(8px);display:grid;grid-template-columns:380px 1fr;gap:18px;align-items:center}
    .entry{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:16px;padding:18px;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative}
    h1.title{font-size:22px;margin-bottom:10px;text-align:center}
    .hint{font-size:13px;opacity:0.8;margin-bottom:14px}
    .puzzle{width:260px;height:260px;border-radius:14px;position:relative;overflow:hidden;background:linear-gradient(135deg,#0b1220,#061227);display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);gap:6px;padding:6px}
    .piece{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer;user-select:none;font-weight:700;transition:transform .18s, box-shadow .18s}
    .piece:hover{transform:translateY(-6px);box-shadow:0 8px 20px rgba(2,6,23,0.6)}
    .start-btn{margin-top:14px;padding:12px 18px;border-radius:10px;border:0;background:linear-gradient(90deg,#ff6b81,#ffb199);color:#111;font-weight:700;cursor:pointer;box-shadow:0 8px 25px rgba(255,107,129,0.12);transition:transform .12s}
    .start-btn:active{transform:translateY(2px)}
    .stage{position:relative;height:100%;border-radius:16px;padding:24px;display:flex;flex-direction:column;gap:12px;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .8s}
    .ribbon{position:absolute;left:18px;top:18px;background:linear-gradient(90deg,#ffd6e0,#ffeff5);color:#2b1b23;padding:8px 12px;border-radius:12px;font-weight:700;letter-spacing:.6px;box-shadow:0 6px 18px rgba(0,0,0,0.25)}
    .scene{width:100%;height:300px;border-radius:14px;display:flex;align-items:center;justify-content:center;position:relative;overflow:visible}
    .card-scene{width:calc(100% - 40px);height:100%;border-radius:12px;background:linear-gradient(180deg,#071026 0%, #0b1222 100%);box-shadow:inset 0 0 120px rgba(255,0,128,0.03);display:flex;align-items:center;justify-content:center;position:relative}
    .couple{position:relative;transform:translateY(0);transition:transform .7s cubic-bezier(.2,.8,.2,1)}
    .rose{position:absolute;right:22%;bottom:22%;transform-origin:center;animation:float 4s ease-in-out infinite}
    @keyframes float{0%{transform:translateY(0)}50%{transform:translateY(-8px)}100%{transform:translateY(0)}}
    .big-wish{font-size:34px;font-weight:800;text-align:center;margin-top:6px;text-shadow:0 6px 30px rgba(255,100,150,0.14)}
    .subtitle{opacity:0.9;font-size:15px;text-align:center}
    .shayari{margin-top:6px;padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));font-size:16px;line-height:1.45;max-width:640px;text-align:center;opacity:0;transform:translateY(18px);transition:all .9s cubic-bezier(.2,.9,.2,1)}
    .controls{position:absolute;right:18px;bottom:18px;display:flex;gap:10px;align-items:center}
    .icon-btn{background:rgba(255,255,255,0.03);padding:10px;border-radius:10px;border:0;color:#fff;cursor:pointer;backdrop-filter:blur(6px)}
    .qr-wrap{position:absolute;left:18px;bottom:18px;background:linear-gradient(180deg,#fff 0%,#ffd6e0 100%);padding:10px;border-radius:12px;color:#111;display:flex;flex-direction:column;align-items:center;gap:8px}
    .qr-wrap img{width:110px;height:110px;border-radius:8px;cursor:pointer}
    .secret-text{font-size:12px;opacity:0.9}
    #particles{position:absolute;inset:0;z-index:0;pointer-events:none}
    @media (max-width:880px){.card{grid-template-columns:1fr;grid-template-rows:auto 1fr;height:auto;padding:14px}.entry{order:2}.scene{height:240px}.card-scene{height:240px}}
  </style>
</head>
<body>
  <div class="card" id="card">
    <div class="entry" aria-hidden="false">
      <div class="ribbon">29 November 2025 ‚Ä¢ From Zakariya</div>
      <h1 class="title">Surprise ke liye ek chhota sa puzzle ‚ú®</h1>
      <div class="hint">Click the pieces in correct order or press 'Start Surprise'</div>
      <div class="puzzle" id="puzzle" role="grid" aria-label="Puzzle">
        <div class="piece" data-id="1">1</div>
        <div class="piece" data-id="2">2</div>
        <div class="piece" data-id="3">3</div>
        <div class="piece" data-id="4">4</div>
        <div class="piece" data-id="5">5</div>
        <div class="piece" data-id="6">6</div>
        <div class="piece" data-id="7">7</div>
        <div class="piece" data-id="8">8</div>
        <div class="piece" data-id="9">9</div>
      </div>
      <button class="start-btn" id="startBtn">Start Surprise</button>
    </div>

    <div class="stage" id="stage" aria-hidden="true">
      <div class="card-scene" id="cardScene">
        <canvas id="particles"></canvas>
        <div class="couple" id="couple" style="z-index:2">
          <svg width="420" height="220" viewBox="0 0 420 220" fill="none" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="g1" x1="0" x2="1">
                <stop offset="0" stop-color="#ff7aa2" stop-opacity="0.18" />
                <stop offset="1" stop-color="#ffb3d0" stop-opacity="0.06" />
              </linearGradient>
            </defs>
            <rect width="420" height="220" rx="12" fill="url(#g1)" />
            <g transform="translate(46,34) scale(1.1)" fill="#111">
              <path d="M133 96c-6-8-14-15-25-15s-20 6-25 15c-6 9-8 20-8 31v22h86v-22c0-11-2-22-8-31z" opacity="0.95"/>
              <circle cx="83" cy="54" r="18" opacity="0.98"/>
              <path d="M210 120c-7-9-18-16-32-16s-25 7-32 16c-8 11-11 26-11 40v28h150v-28c0-14-3-29-11-40z" opacity="0.95"/>
              <circle cx="238" cy="46" r="22" opacity="0.98"/>
            </g>
          </svg>
          <div class="rose" aria-hidden="true" style="z-index:3">
            <svg width="68" height="68" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
              <circle cx="32" cy="32" r="30" fill="#ffffff" opacity="0.03"/>
              <path d="M34 18c6 1 10 6 9 12-1 6-8 10-12 9s-8-6-7-12c1-6 6-10 10-9z" fill="#ff6b8a"/>
              <rect x="30" y="30" width="6" height="18" rx="3" fill="#2b2b2b"/>
            </svg>
          </div>
        </div>
        <div style="position:absolute;z-index:4;bottom:20px;width:100%;display:flex;flex-direction:column;align-items:center;pointer-events:none">
          <div class="big-wish">Happy Birthday, Pihu ‚ú®</div>
          <div class="subtitle">A special code-made surprise just for you üíñ</div>
        </div>
      </div>
      <div class="shayari" id="shayari">
        <div style="font-weight:800;font-size:18px;margin-bottom:6px;text-align:center">Kuch alfaaz tumhare liye</div>
        <div style="font-style:italic">"Tumhari muskurahat mere din ka noor hai,<br>Har saans me bas tumhara hi asar ho.<br>Aaj ka din ho ya kal, bas itna kehna hai ‚Äî<br>Pihu, zindagi tumhare sang khubsurat safar ho."</div>
      </div>
      <div class="controls" style="z-index:10">
        <button class="icon-btn" id="playBtn">‚ñ∂ Play Music</button>
        <button class="icon-btn" id="pauseBtn">‚è∏ Pause</button>
      </div>
      <div class="qr-wrap" style="z-index:12">
        <img id="qrImg" src="" alt="QR for secret message"/>
        <div class="secret-text">Scan for a secret message üíå</div>
      </div>
    </div>
  </div>

  <audio id="bgAudio" loop preload="auto">
    <source id="audioSrc" src="https://cdn.pixabay.com/download/audio/2021/12/15/audio_7f4b6bc7b8.mp3?filename=lovely-memories-110160.mp3" type="audio/mpeg">
  </audio>

  <script>
    (function(){
      const correctSeq = ['3','1','5','9','2','4','7','6','8'];
      let userSeq = [];
      const pieces = document.querySelectorAll('.piece');
      const startBtn = document.getElementById('startBtn');
      const stage = document.getElementById('stage');
      const entry = document.querySelector('.entry');
      pieces.forEach(p => p.addEventListener('click', ()=>{
        const id = p.dataset.id;
        userSeq.push(id);
        p.style.transform = 'scale(0.94)';
        setTimeout(()=>p.style.transform='scale(1)',220);
        const idx = userSeq.length - 1;
        if(userSeq[idx] !== correctSeq[idx]){userSeq=[];return;}
        if(userSeq.length === correctSeq.length){revealSurprise();}
      }))
      startBtn.addEventListener('click', revealSurprise);
      function revealSurprise(){
        entry.style.opacity=0;entry.style.pointerEvents='none';
        stage.style.opacity=1;stage.style.pointerEvents='auto';
        document.getElementById('shayari').style.opacity=1;document.getElementById('shayari').style.transform='translateY(0)';
        document.getElementById('bgAudio').play().catch(()=>console.log('Play manually'));
        document.getElementById('couple').style.transform='translateY(-8px)';
        generateQR();
      }
      document.getElementById('playBtn').addEventListener('click', ()=>{document.getElementById('bgAudio').play()});
      document.getElementById('pauseBtn').addEventListener('click', ()=>{document.getElementById('bgAudio').pause()});
    })();
    function generateQR(){
      const secret = encodeURIComponent('Pihu üíå\nHappy Birthday!\nFrom Zakariya.\nDate: 29 November 2025');
      const size=300;
      const src=`https://chart.googleapis.com/chart?cht=qr&chs=${size}x${size}&chl=${secret}&chld=L|1`;
      const qrImg=document.getElementById('qrImg');
      qrImg.src=src;
      qrImg.addEventListener('click',()=>{const a=document.createElement('a');a.href=src;a.download='pihu-secret-qr.png';a.click()});
    }
    (function(){
      const canvas=document.getElementById('particles');
      const ctx=canvas.getContext('2d');
      let w=canvas.width=canvas.offsetWidth;
      let h=canvas.height=canvas.offsetHeight;
      window.addEventListener('resize',()=>{w=canvas.width=canvas.offsetWidth;h=canvas.height=canvas.offsetHeight});
      const particles=[];
      function rand(min,max){return Math.random()*(max-min)+min}
      for(let i=0;i<50;i++)particles.push({x:rand(0,w),y:rand(0,h),r:rand(0.8,2.6),vx:rand(-0.2,0.6),vy:rand(-0.1,0.2),alpha:rand(0.06,0.28)});
      function draw(){ctx.clearRect(0,0,w,h);for(const p of particles){p.x+=p.vx;p.y+=p.vy;if(p.x>w+10)p.x=-10;if(p.x<-10)p.x=w+10;if(p.y>h+10)p.y=-10;if(p.y<-10)p.y=h+10;ctx.beginPath();ctx.fillStyle=`rgba(255,170,200,${p.alpha})`;ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill()}requestAnimationFrame(draw)}draw();
    })();
  </script>
</body>
  </html>
          
